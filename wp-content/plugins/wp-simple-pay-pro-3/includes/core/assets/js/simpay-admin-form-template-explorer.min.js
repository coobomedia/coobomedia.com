!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=69)}([function(e,t){e.exports=window.wp.element},,function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wp.components},,function(e,t,r){var n=r(20),a=r(21),o=r(16),c=r(22);e.exports=function(e,t){return n(e)||a(e,t)||o(e,t)||c()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=window.wp.primitives},function(e,t){e.exports=window.wp.url},function(e,t){e.exports=window.lodash},,,function(e,t){e.exports=window.wp.compose},,function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var c=a.apply(null,n);c&&e.push(c)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var l in n)r.call(n,l)&&n[l]&&e.push(l);else e.push(n.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(15);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},,,function(e,t,r){var n=r(26),a=r(27),o=r(16),c=r(28);e.exports=function(e){return n(e)||a(e)||o(e)||c()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],_n=!0,c=!1;try{for(r=r.call(e);!(_n=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);_n=!0);}catch(e){c=!0,a=e}finally{try{_n||null==r.return||r.return()}finally{if(c)throw a}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},,,,function(e,t,r){var n=r(15);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t){e.exports=window.wp.a11y},,,,,function(e,t,r){"use strict";var n=r(0);t.a=function(e){let{icon:t,size:r=24,...a}=e;return Object(n.cloneElement)(t,{width:r,height:r,...a})}},,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(0),a=r(6);const o=Object(n.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(a.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"}));t.a=o},,function(e,t,r){"use strict";var n=r(0),a=r(6);const o=Object(n.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(a.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));t.a=o},function(e,t,r){"use strict";var n=r(0),a=r(6);const o=Object(n.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(a.Path,{d:"M13.5 6C10.5 6 8 8.5 8 11.5c0 1.1.3 2.1.9 3l-3.4 3 1 1.1 3.4-2.9c1 .9 2.2 1.4 3.6 1.4 3 0 5.5-2.5 5.5-5.5C19 8.5 16.5 6 13.5 6zm0 9.5c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"}));t.a=o},,,,,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(5),a=r.n(n),o=r(13),c=r.n(o),l=r(0),i=r(3),s=r(2),u=r(8),p=r(7),m=simpayFormBuilderTemplateExplorer,f=m.suggestUrl,d=m.addNewUrl,b=m.licenseLevel,g=m.templates,O=Object(p.addQueryArgs)(d,{"simpay-template":"lite"===b?Object(u.find)(g,{slug:"payment-button"}).id:Object(u.find)(g,{slug:"payment-form"}).id}),j="simpay-form-template-explorer-header",y=function(){return Object(l.createElement)("div",{className:j},Object(l.createElement)("h2",{className:"".concat(j,"__title")},Object(s.__)("Select a template","simple-pay")),Object(l.createElement)("p",{className:"".concat(j,"__subtitle")},Object(l.createInterpolateElement)(Object(s.__)("To speed up the process you can select from one of our pre-made templates or start with a <blank>basic form</blank>. Have a suggestion for a new template? <suggest>We'd love to hear it</suggest>!","simple-pay"),{blank:Object(l.createElement)("a",{href:O}),suggest:Object(l.createElement)("a",{href:f,target:"_blank",rel:"noopener noreferrer"})})))},v=r(14),_=r.n(v),h=r(11),E=r(56),x=r(35),w=r(57),C=function e(t){var r=t.className,n=t.onChange,a=t.value,o=t.label,c=t.placeholder,u=void 0===c?Object(s.__)("Search"):c,p=t.hideLabelFromVision,m=void 0===p||p,f=t.help,d=Object(h.useInstanceId)(e),b=Object(l.useRef)(),g="components-search-control-".concat(d);return Object(l.createElement)(i.BaseControl,{label:o,id:g,hideLabelFromVision:m,help:f,className:_()(r,"components-search-control")},Object(l.createElement)("div",{className:"components-search-control__input-wrapper"},Object(l.createElement)("input",{ref:b,className:"components-search-control__input",id:g,type:"search",placeholder:u,onChange:function(e){return n(e.target.value)},autoComplete:"off",value:a||""}),Object(l.createElement)("div",{className:"components-search-control__icon"},!!a&&Object(l.createElement)(i.Button,{icon:E.a,label:Object(s.__)("Reset search","simple-pay"),onClick:function(){n(""),b.current.focus()}}),!a&&Object(l.createElement)(x.a,{icon:w.a}))))},S="simpay-form-template-explorer-main__sidebar";function P(e){var t=e.selectedCategory,r=e.templateCategories,n=e.onClickCategory;return Object(l.createElement)(i.NavigableMenu,{orientation:"vertical",className:"".concat(S,"-categories")},Object.keys(r).sort().map((function(e){return Object(l.createElement)(i.Button,{key:e,label:r[e],className:"".concat(S,"-categories_category"),isPressed:t===e,onClick:function(){n(e)}},r[e])})))}function k(e){var t=e.filterValue,r=e.setFilterValue;return Object(l.createElement)("div",{className:"".concat(S,"-search")},Object(l.createElement)(C,{onChange:r,value:t,label:Object(s.__)("Search for templates","simple-pay"),placeholder:Object(s.__)("Search","simple-pay")}))}var N=function(e){var t=e.selectedCategory,r=e.templateCategories,n=e.onClickCategory,a=e.filterValue,o=e.setFilterValue;return Object(l.createElement)("div",{className:S},Object(l.createElement)(k,{filterValue:a,setFilterValue:o}),!a&&Object(l.createElement)(P,{selectedCategory:t,templateCategories:r,onClickCategory:n}))},M=r(30),V=r(6),L=Object(l.createElement)(V.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(l.createElement)(V.Path,{d:"M8 5C8 3.34315 9.34315 2 11 2H13C14.6569 2 16 3.34315 16 5V9H18C19.2624 9 20 9.9804 20 11V19C20 20.0196 19.2624 21 18 21H6C4.73763 21 4 20.0196 4 19V11C4 9.9804 4.73763 9 6 9H8V5ZM9.5 9H14.5V5C14.5 4.17157 13.8284 3.5 13 3.5H11C10.1716 3.5 9.5 4.17157 9.5 5V9Z"})),B=r(54),A=simpayFormBuilderTemplateExplorer,I=A.alreadyPurchasedUrl,U=A.licenseLevel,F=A.upgradeUrl,T="simpay-form-template-explorer-upgrade",H=function(e){var t=e.template,r=e.setIsShowingUpgradeModal;return Object(l.createElement)(i.Modal,{title:Object(s.__)("Upgrade Required","simple-pay"),onRequestClose:function(){return r(!1)},className:T},Object(l.createElement)("div",{className:"".concat(T,"__content")},Object(l.createElement)(x.a,{icon:L,size:"48px"}),Object(l.createElement)("h3",{className:"".concat(T,"__title")},Object(s.sprintf)(
/* translators: %s Template name */
Object(s.__)('Unlock the "%s" Template',"simple-pay"),t.name)),Object(l.createElement)("p",{className:"".concat(T,"__description")},Object(l.createInterpolateElement)(Object(s.sprintf)(
/* translators: %$ss Template name. %2$s Minimum license level. */
Object(s.__)('We\'re sorry, the "%1$s" template is not available on your plan. Please upgrade to the <strong>%2$s</strong> plan or higher to unlock this and other awesome features.',"simple-pay"),t.name,Object(u.upperFirst)(t.license[0])),{strong:Object(l.createElement)("strong",null)})),Object(l.createElement)(i.Button,{isPrimary:!0,variant:"primary",href:Object(p.addQueryArgs)(F,{utm_content:t.name}),target:"_blank",rel:"noopener noreferrer"},"lite"===U?Object(s.__)("Upgrade to Pro","simple-pay"):Object(s.__)("See Upgrade Options","simple-pay")),Object(l.createElement)("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"".concat(T,"__purchased")},Object(s.__)("Already purchased?","simple-pay")),Object(l.createElement)("p",{className:"".concat(T,"__discount")},Object(l.createElement)(x.a,{icon:B.a}),"lite"===U?Object(l.createInterpolateElement)(Object(s.__)("<strong>Bonus:</strong> WP Simple Pay Lite users get <highlight>50% off</highlight> regular price, automatically applied at checkout. <upgrade>Upgrade to Pro →</upgrade>","simple-pay"),{strong:Object(l.createElement)("strong",null),highlight:Object(l.createElement)("u",null),upgrade:Object(l.createElement)("a",{href:Object(p.addQueryArgs)(F,{utm_content:t.name}),target:"_blank",rel:"noopener noreferrer"})}):Object(l.createInterpolateElement)(Object(s.__)("<strong>Bonus:</strong> WP Simple Pay Pro users get <highlight>50% off</highlight> upgrade pricing, automatically applied at checkout. <upgrade>See Upgrade Options →</upgrade>","simple-pay"),{strong:Object(l.createElement)("strong",null),highlight:Object(l.createElement)("u",null),upgrade:Object(l.createElement)("a",{href:Object(p.addQueryArgs)(F,{utm_content:t.name}),target:"_blank",rel:"noopener noreferrer"})}))))},W=simpayFormBuilderTemplateExplorer,z=W.licenseLevel,D=W.addNewUrl,G=W.isLite,Q="simpay-form-template-explorer-main__content",R=["payment-button","donate-button","payment-form","product-installment-plan-form","product-purchse-form","product-subscription-form","product-subscription-form-coupon","recurring-service-setup-fee-form","recurring-service-trial-period-form","recurring-services-form"],Z=function(e){var t=e.template,r=Object(l.useState)(!1),n=a()(r,2),o=n[0],c=n[1],u=!t.license.includes(z),m=Object(p.addQueryArgs)(D,{"simpay-template":t.id}),f=Object(p.addQueryArgs)("https://wpsimplepay.com/templates/".concat(t.slug,"/"),{utm_source:"WordPress",utm_campaign:"1"===G?"lite-plugin":"pro-plugin",utm_medium:"template-explorer",utm_content:t.name});return Object(l.createElement)(l.Fragment,null,o&&Object(l.createElement)(H,{template:t,setIsShowingUpgradeModal:c}),Object(l.createElement)("div",{key:t.id,className:"".concat(Q,"-list-item")},u&&Object(l.createElement)("div",{className:"".concat(Q,"-list-item__badge")},Object(l.createElement)(x.a,{icon:L,size:"16px"})),Object(l.createElement)("div",{id:t.id,className:"".concat(Q,"-list-item__name ").concat(u?"".concat(Q,"-list-item__name--is-locked"):"")},t.name),Object(l.createElement)("div",{className:"".concat(Q,"-list-item__description")},t.description),Object(l.createElement)("div",{className:"".concat(Q,"-list-item__actions")},Object(l.createElement)(i.Button,{isPrimary:!0,variant:"primary",href:u?void 0:m,onClick:function(){return u?c(!0):null}},"lite"===z&&"payment-button"===t.slug?Object(s.__)("Create Payment Button","simple-pay"):Object(s.__)("Use Template","simple-pay")),!R.includes(t.slug)&&Object(l.createElement)(i.Button,{isSecondary:!0,variant:"secondary",href:f,style:{marginLeft:"10px"}},Object(s.__)("View Demo","simple-pay")))))},q=Object(l.createElement)(V.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(l.createElement)(V.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6.68822 16.625L5.5 17.8145L5.5 5.5L18.5 5.5L18.5 16.625L6.68822 16.625ZM7.31 18.125L19 18.125C19.5523 18.125 20 17.6773 20 17.125L20 5C20 4.44772 19.5523 4 19 4H5C4.44772 4 4 4.44772 4 5V19.5247C4 19.8173 4.16123 20.086 4.41935 20.2237C4.72711 20.3878 5.10601 20.3313 5.35252 20.0845L7.31 18.125ZM16 9.99997H8V8.49997H16V9.99997ZM8 14H13V12.5H8V14Z"})),$=simpayFormBuilderTemplateExplorer.suggestUrl,K=function(){return Object(l.createElement)("div",{className:"".concat("simpay-form-template-explorer-main__content","-suggest")},Object(l.createElement)("div",{style:{flexGrow:0}},Object(l.createElement)(x.a,{icon:q,size:"42px"})),Object(l.createElement)("div",null,Object(l.createElement)("h4",null,Object(s.__)("We need your help!","simple-pay")),Object(l.createElement)("p",null,Object(l.createInterpolateElement)(Object(s.__)("We're constantly building more pre-made payment form templates to get you up and running even faster. If you have ideas for future templates, please let us know!","simple-pay"),{suggest:Object(l.createElement)("a",{href:$,target:"_blank",rel:"noopener noreferrer"})})),Object(l.createElement)(i.Button,{isSecondary:!0,variant:"secondary",isLink:!0,href:$,target:"_blank"},Object(s.__)("Suggest a Template","simple-pay"))))},J=r(19),X=r.n(J),Y=function(e){return e.name||""},ee=function(e){return e.description||""},te=function(e){return e.keywords||[]},re=function(e){return e.category};function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(e=(e=Object(u.deburr)(e)).replace(/^\//,"")).toLowerCase()}var ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(u.words)(ne(e))},oe=function(e,t){return Object(u.differenceWith)(e,ae(t),(function(e,t){return t.includes(e)}))};function ce(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.getName,a=void 0===n?Y:n,o=r.getDescription,c=void 0===o?ee:o,l=r.getKeywords,i=void 0===l?te:l,s=r.getCategory,p=void 0===s?re:s,m=a(e),f=c(e),d=i(e),b=p(e),g=ne(t),O=ne(m),j=0;if(g===O)j+=30;else if(O.startsWith(g))j+=20;else{var y=[m,f].concat(X()(d),[b]).join(" "),v=Object(u.words)(g),_=oe(v,y);0===_.length&&(j+=10)}return j}var le=simpayFormBuilderTemplateExplorer,ie=le.suggestUrl,se=le.licenseLevel,ue=function(e){var t=e.filterValue,r=e.selectedCategory,n=e.templates,o=Object(h.useDebounce)(M.speak,500),c=Object(l.useMemo)((function(){var e=n;return t?e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=ae(t);if(0===n.length)return e;var o=e.map((function(e){return[e,ce(e,t,r)]})).filter((function(e){return a()(e,2)[1]>0}));return o.sort((function(e,t){var r=a()(e,2)[1];return a()(t,2)[1]-r})),o.map((function(e){return a()(e,1)[0]}))}(n,t):""!==r&&(e=n.filter((function(e){var t=e.categories;return Object.keys(t).includes(r)}))),Object(u.sortBy)(e,(function(e){return!e.license.includes(se)}))}),[t,r,n]);Object(l.useEffect)((function(){if(t){var e=c.length,r=Object(s.sprintf)(
/* translators: %d: number of results. */
Object(s._n)("%d result found.","%d results found.",e,"simple-pay"),e);o(r)}}),[t,o]);var i=!(null==c||!c.length),p=_()("simpay-form-template-explorer-main__content",{"is-empty":!i});return Object(l.createElement)("div",{className:p},!i&&Object(l.createElement)("p",null,Object(l.createInterpolateElement)(Object(s.__)("No results found. Have a suggestion for a new template? <suggest>We'd love to hear it</suggest>!","simple-pay"),{suggest:Object(l.createElement)("a",{href:ie,target:"_blank",rel:"noopener noreferrer"})})),i&&Object(l.createElement)(l.Fragment,null,c.map((function(e){return Object(l.createElement)(Z,{key:e.slug,template:e})})),Object(l.createElement)(K,null)))};function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fe=simpayFormBuilderTemplateExplorer.templates,de=fe.reduce((function(e,t){return me(me({},e),t.categories)}),{"":Object(s.__)("All Templates","simple-pay")});Object(l.render)(Object(l.createElement)((function(){var e=Object(l.useState)(""),t=a()(e,2),r=t[0],n=t[1],o=Object(l.useState)(""),c=a()(o,2),s=c[0],u=c[1];return Object(l.useEffect)((function(){document.querySelector("body").classList.add("simpay-template-explorer-open")}),[]),Object(l.createElement)(i.SlotFillProvider,null,Object(l.createElement)("div",{className:"simpay-form-template-explorer"},Object(l.createElement)(y,null),Object(l.createElement)("div",{className:"".concat("simpay-form-template-explorer","-main")},Object(l.createElement)(N,{selectedCategory:s,templateCategories:de,onClickCategory:u,filterValue:r,setFilterValue:function(e){n(e),u("")}}),Object(l.createElement)(ue,{templates:fe,templateCategories:de,selectedCategory:s,filterValue:r}))),Object(l.createElement)(i.Popover.Slot,null))}),null),document.getElementById("simpay-form-template-explorer"))}]);