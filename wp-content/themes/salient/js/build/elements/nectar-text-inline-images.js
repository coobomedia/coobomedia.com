!function(t){"use strict";function i(t){this.$el=t,this.$markers=this.$el.find(".nectar-text-inline-images__marker"),this.positionImages(),this.events()}i.prototype.positionImages=function(){this.$markers.each(function(i){var n=t(this).find("img").length>0?"img":"video";if("video"==n){var e=t(this).height();t(this).find(n).css({width:1.7*e+"px"})}var s=t(this).find(n);if(s.length>0){var o=s[0].getBoundingClientRect();t(this)[0].style.width=o.width+"px"}}),this.$el.addClass("nectar-text-inline-images--calculated")},i.prototype.events=function(){t(window).on("resize",this.positionImages.bind(this)),t(window).on("nectar-waypoints-reinit",this.waypoint.bind(this)),window.Waypoint?this.waypoint():t(window).on("salient-delayed-js-loaded",this.waypoint.bind(this))},i.prototype.waypoint=function(){var i=[],n=this;this.$el.hasClass("nectar-text-inline-images--stagger-animation")?i=new Waypoint({element:n.$el[0],handler:function(){n.$markers.each(function(i){var n=t(this);setTimeout(function(){n.addClass("animated-in")},150*i)}),i.destroy()},offset:"bottom-in-view"}):this.$markers.each(function(n){var e=t(this);i[n]=new Waypoint({element:t(this)[0],handler:function(){e.addClass("animated-in"),i[n].destroy()},offset:"bottom-in-view"})})};var n=[];function e(){n=[];var e=void 0!==window.vc_iframe;t(".nectar-text-inline-images").each(function(s){var o,a,r;0==e?(o=t(this),a=s,(r=new IntersectionObserver(function(t){t.forEach(function(t){t.isIntersecting&&(n[a]=new i(o),r.unobserve(t.target))})},{root:document,rootMargin:"300px 0px 300px 0px",threshold:0})).observe(o[0])):n[s]=new i(t(this))})}e(),t(window).on("vc_reload",function(){setTimeout(e,200)})}(jQuery);